var topMenu=$("#sidebar"),menuItems=topMenu.find(".cb-sidebar-section a"),scrollItems=menuItems.map(function(){var a=$($(this).attr("href"));if(a.length){return a}});$(function(){if(topMenu&&topMenu.length){$(window).scroll(sidebar_relocate);sidebar_relocate()}});function sidebar_relocate(){var a=$(window).scrollTop();var d=$(window).height();var c=a+d;var e=$("#sidebar-anchor").offset().top;var b=$("#sidebar").height();var f=$("#footer").offset().top+Math.max(d-b,0);if(a>e){if(c>=f){$("#sidebar").removeClass("stick");$("#sidebar").addClass("at-bottom")}else{$("#sidebar").addClass("stick");$("#sidebar").removeClass("at-bottom")}}else{$("#sidebar").removeClass("at-bottom");$("#sidebar").removeClass("stick")}var g=scrollItems.map(function(){if($(this).offset().top<=a+d/2){return this}});var h="about";if(g&&g.length){h=g[g.length-1][0].id}menuItems.parent().removeClass("active").end().filter("[href='#"+h+"']").parent().addClass("active")}$(document).on("click",'a[href^="#"]',function(b){b.preventDefault();var a=$.attr(this,"href");$(".cb-sidebar-section a").removeClass("active");console.log($('a[href="'+a+'"]')[0]);$('a[href="'+a+'"]').addClass("active");$("html, body").animate({scrollTop:$($.attr(this,"href")).offset().top},500,function(){window.location.hash=a})});$("#projects a").click(function(a){a.preventDefault();$(this).tab("show")});